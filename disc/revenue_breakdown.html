<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revenue</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Custom styles to fix the sidebar */
        body {
            margin: 0;
            padding-left: 16rem;
        }

        aside {
            position: fixed;
            top: 0;
            left: 0;
            width: 16rem;
            height: 100vh;
            overflow-y: auto;
            background-color: white;
            border-right: 1px solid #e5e7eb;
        }

        .main-content {
            margin-left: 16rem;
            padding: 1rem;
        }

        header {
            position: fixed;
            top: 0;
            left: 16rem;
            right: 0;
            z-index: 10;
        }
    </style>
</head>

<body>

    <div id="webcrumbs" class="flex">
        <div id="sidebar-container"></div> <!-- Sidebar will be inserted here -->
        <div class="flex-1">
            <div id="header-container"></div> <!-- Header will be inserted here -->
            <div class="p-6 space-y-6">
                <script src="layout.js"></script>

                <div class="container mx-auto p-6">
                    <h1 class="text-2xl font-bold mt-10 mb-6">Revenue</h1>
                    <div class="bg-white shadow-lg p-6 rounded-xl">
                        <div class="grid grid-cols-4 gap-6">
                            <div
                                class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1">
                                <div class="flex items-start gap-4 mb-4">
                                    <span
                                        class="material-symbols-outlined text-4xl text-emerald-500 flex-shrink-0">payments</span>
                                    <div class="min-w-0">
                                        <h3 class="text-lg font-semibold mb-1 truncate">Total Earnings</h3>
                                        <p class="text-lg font-bold truncate">₹12,45,000.00</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2 text-emerald-500">
                                    <span class="material-symbols-outlined flex-shrink-0">trending_up</span>
                                    <span class="text-sm truncate">+12.5% from last year</span>
                                </div>
                            </div>

                            <div
                                class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1">
                                <div class="flex items-start gap-4 mb-4">
                                    <span
                                        class="material-symbols-outlined text-4xl text-blue-500 flex-shrink-0">calendar_month</span>
                                    <div class="min-w-0">
                                        <h3 class="text-lg font-semibold mb-1 truncate">Earnings This Month</h3>
                                        <p class="text-lg font-bold truncate">₹12,45,000.00</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2 text-blue-500">
                                    <span class="material-symbols-outlined flex-shrink-0">trending_up</span>
                                    <span class="text-sm truncate">+8.2% from last month</span>
                                </div>
                            </div>

                            <div
                                class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1">
                                <div class="flex items-start gap-4 mb-4">
                                    <span
                                        class="material-symbols-outlined text-4xl text-amber-500 flex-shrink-0">pending_actions</span>
                                    <div class="min-w-0">
                                        <h3 class="text-lg font-semibold mb-1 truncate">Pending Payouts</h3>
                                        <p class="text-lg font-bold truncate">₹4,32,000.00</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2 text-amber-500">
                                    <span class="material-symbols-outlined flex-shrink-0">schedule</span>
                                    <span class="text-sm truncate">3 pending transactions</span>
                                </div>
                            </div>

                            <div
                                class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow duration-300 transform hover:-translate-y-1">
                                <div class="flex items-start gap-4 mb-4">
                                    <span
                                        class="material-symbols-outlined text-4xl text-purple-500 flex-shrink-0">task_alt</span>
                                    <div class="min-w-0">
                                        <h3 class="text-lg font-semibold mb-1 truncate">Completed Payouts</h3>
                                        <p class="text-lg font-bold truncate">₹1,08,79,300.00</p>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2 text-purple-500">
                                    <span class="material-symbols-outlined flex-shrink-0">done_all</span>
                                    <span class="text-sm truncate">235 completed payouts</span>
                                </div>
                            </div>
                        </div>

                        <div class="mt-6 bg-white rounded-xl shadow-lg p-6">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-2xl font-bold">Sales Overview</h2>
                            </div>

                            <div class="flex justify-between gap-6 mb-6 w-full" id="salesCards">
                                <!-- Daily Sales Card -->
                                <div class="bg-gray-50 rounded-lg p-4 w-full flex justify-between items-center">
                                    <h1 class="text-3xl font-semibold mb-0">Sales</h1>
                                    <div class="text-right">
                                        <p class="text-3xl font-bold mb-2" id="dailySales">₹2450</p>
                                        <div class="flex items-center gap-2 text-emerald-500 justify-end">
                                            <span class="material-symbols-outlined">trending_up</span>
                                            <span id="dailyPercentage">+5.2% vs yesterday</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="flex gap-4">
                                    <!-- Time Period Dropdown -->
                                    <details class="relative" id="timePeriodDropdown">
                                        <summary
                                            class="flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100">
                                            <span class="material-symbols-outlined">calendar_today</span>
                                            <span>Time Period</span>
                                        </summary>
                                        <div class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg p-2 z-10">
                                            <div class="p-2 hover:bg-gray-50 rounded cursor-pointer"
                                                data-period="daily">Daily</div>
                                            <div class="p-2 hover:bg-gray-50 rounded cursor-pointer"
                                                data-period="weekly">Weekly</div>
                                            <div class="p-2 hover:bg-gray-50 rounded cursor-pointer"
                                                data-period="monthly">Monthly</div>
                                        </div>
                                    </details>
                                </div>
                            </div>

                            <div class="h-[400px] bg-gray-50 rounded-lg p-4">
                                <canvas id="lineChart"></canvas>
                            </div>
                        </div>

                        <div class="mt-6 bg-white rounded-xl shadow-lg p-6">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-2xl font-bold">Revenue Table</h2>
                                <div class="flex items-center gap-2">
                                    <input id="searchInput" type="text" placeholder="Search orders..."
                                        class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200" />
                                </div>
                            </div>

                            <div class="overflow-x-auto">
                                <table class="w-full" id="revenueTable">
                                    <thead>
                                        <tr class="border-b">
                                            <th class="px-6 py-3 text-left text-sm font-semibold">Order ID</th>
                                            <th class="px-6 py-3 text-left text-sm font-semibold">Product Name</th>
                                            <th class="px-6 py-3 text-left text-sm font-semibold">Order Date</th>
                                            <th class="px-6 py-3 text-left text-sm font-semibold">Amount Earned</th>
                                            <th class="px-6 py-3 text-left text-sm font-semibold">Platform Fee</th>
                                            <th class="px-6 py-3 text-left text-sm font-semibold">Net Earnings</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y" id="revenueTableBody">
                                        <!-- Table rows will be dynamically inserted here -->
                                    </tbody>
                                </table>
                            </div>

                            <div class="flex justify-between items-center mt-6">
                                <div id="revenuePaginationText" class="text-sm text-gray-600">
                                    Showing 1 to 3 of 50 entries
                                </div>
                                <div class="flex gap-2">
                                    <button id="revenuePreviousButton"
                                        class="px-4 py-2 border rounded-lg hover:bg-gray-50 transition-all duration-200">Previous</button>
                                    <button id="revenueNextButton"
                                        class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all duration-200">Next</button>
                                </div>
                            </div>
                        </div>

                        <div class="mt-6 bg-white rounded-xl shadow-lg p-6">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-2xl font-bold">Payout Settings</h2>
                            </div>

                            <div class="grid grid-cols-3 gap-6">
                                <div class="bg-gray-50 rounded-xl p-6 hover:shadow-lg transition-all duration-300">
                                    <div class="flex items-start gap-4 mb-4">
                                        <span class="material-symbols-outlined text-3xl text-blue-500">payments</span>
                                        <div>
                                            <h3 class="text-lg font-semibold mb-2">Minimum Payout Threshold</h3>
                                            <p class="text-3xl font-bold mb-2">₹5,000</p>
                                            <p class="text-sm text-gray-600">You can request payout once your earnings
                                                exceed this amount</p>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-gray-50 rounded-xl p-6 hover:shadow-lg transition-all duration-300">
                                    <div class="flex items-start gap-4 mb-4">
                                        <span
                                            class="material-symbols-outlined text-3xl text-emerald-500">account_balance</span>
                                        <div>
                                            <h3 class="text-lg font-semibold mb-2">Bank Details</h3>
                                            <div class="space-y-2">
                                                <div class="flex items-center gap-2">
                                                    <span
                                                        class="material-symbols-outlined text-emerald-500">check_circle</span>
                                                    <span>Account verified</span>
                                                </div>
                                                <p class="text-sm text-gray-600">HDFC Bank ****1234</p>
                                                <button
                                                    class="text-sm text-blue-500 hover:text-blue-600 flex items-center gap-1">
                                                    <span class="material-symbols-outlined text-sm">edit</span>
                                                    Update details
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-gray-50 rounded-xl p-6 hover:shadow-lg transition-all duration-300">
                                    <div class="flex items-start gap-4 mb-4">
                                        <span class="material-symbols-outlined text-3xl text-purple-500">wallet</span>
                                        <div>
                                            <h3 class="text-lg font-semibold mb-2">Request Payout</h3>
                                            <p class="text-sm text-gray-600 mb-4">Current available balance: ₹12,450.00
                                            </p>
                                            <button id="requestPayoutBtn"
                                                class="w-full bg-blue-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-600 transition-colors duration-300 flex items-center justify-center gap-2">
                                                <span class="material-symbols-outlined">account_balance_wallet</span>
                                                Request Payout
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-6 p-4 bg-blue-50 rounded-lg border border-blue-100">
                                <div class="flex items-start gap-3">
                                    <span class="material-symbols-outlined text-blue-500">info</span>
                                    <div>
                                        <h4 class="font-medium mb-1">Important Note</h4>
                                        <p class="text-sm text-gray-600">Payouts are processed within 3-5 business days.
                                            Make sure your bank details are up to date to avoid any delays.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mt-6 bg-white rounded-xl shadow-lg p-6">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-2xl font-bold">Payment History</h2>
                                <details class="relative">
                                    <summary
                                        class="px-4 py-2 bg-white border rounded-lg cursor-pointer hover:bg-gray-50 transition-all duration-200 flex items-center gap-2">
                                        Status Filter
                                        <span class="material-symbols-outlined text-sm">expand_more</span>
                                    </summary>
                                    <div class="absolute right-0 mt-2 w-48 bg-white border rounded-lg shadow-lg z-10">
                                        <div class="py-1">
                                            <button id="filterCompleted"
                                                class="w-full px-4 py-2 text-left hover:bg-gray-50 transition-all duration-200">Completed</button>
                                            <button id="filterPending"
                                                class="w-full px-4 py-2 text-left hover:bg-gray-50 transition-all duration-200">Pending</button>
                                        </div>
                                    </div>
                                </details>
                            </div>

                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b">
                                            <th class="px-6 py-3 text-left text-sm font-semibold">Payout ID</th>
                                            <th class="px-6 py-3 text-left text-sm font-semibold">Amount</th>
                                            <th class="px-6 py-3 text-left text-sm font-semibold">Date</th>
                                            <th class="px-6 py-3 text-left text-sm font-semibold">Payment Method</th>
                                            <th class="px-6 py-3 text-left text-sm font-semibold">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y" id="paymentTableBody">
                                        <!-- Table rows will be dynamically inserted here -->
                                    </tbody>
                                </table>
                            </div>

                            <div class="flex justify-between items-center mt-6">
                                <div id="paymentPaginationText" class="text-sm text-gray-600">
                                    Showing 1 to 4 of 25 entries
                                </div>
                                <div class="flex gap-2">
                                    <button id="paymentPreviousButton"
                                        class="px-4 py-2 border rounded-lg hover:bg-gray-50 transition-all duration-200">Previous</button>
                                    <button id="paymentNextButton"
                                        class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all duration-200">Next</button>
                                </div>
                            </div>
                        </div>

                        <div
                            class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border rounded-lg p-6 mt-6">
                            <h3 class="text-xl font-medium mb-4">Refunds & Cancellations Summary</h3>

                            <!-- Table for Refunds & Cancellations -->
                            <div class="mt-6 overflow-x-auto">
                                <table class="w-full" id="refundsTable">
                                    <thead>
                                        <tr class="border-b">
                                            <th
                                                class="px-6 py-3 text-left text-sm font-semibold whitespace-nowrap text-gray-500">
                                                Order ID</th>
                                            <th
                                                class="px-6 py-3 text-left text-sm font-semibold whitespace-nowrap text-gray-500">
                                                Customer Name</th>
                                            <th
                                                class="px-6 py-3 text-left text-sm font-semibold whitespace-nowrap text-gray-500">
                                                Vendor</th>
                                            <th
                                                class="px-6 py-3 text-left text-sm font-semibold whitespace-nowrap text-gray-500">
                                                Amount Refunded</th>
                                            <th
                                                class="px-6 py-3 text-left text-sm font-semibold whitespace-nowrap text-gray-500">
                                                Reason</th>
                                            <th
                                                class="px-6 py-3 text-left text-sm font-semibold whitespace-nowrap text-gray-500">
                                                Status</th>
                                            <th
                                                class="px-6 py-3 text-left text-sm font-semibold whitespace-nowrap text-gray-500">
                                                Action</th>
                                        </tr>
                                    </thead>
                                    <tbody id="refundsTableBody">
                                        <!-- Dynamic rows will be inserted here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div id="toast"
                            class="fixed top-5 right-5 z-50 hidden bg-white rounded-lg shadow-lg p-4 transition-opacity duration-300 transform translate-y-2 opacity-0"
                            role="alert" aria-live="assertive" aria-atomic="true">
                            <div class="flex items-center justify-between">
                                <strong class="font-bold">Notification</strong>
                                <small class="text-gray-500">Just now</small>
                                <button type="button" class="text-gray-400 hover:text-gray-600" onclick="hideToast()"
                                    aria-label="Close">
                                    <span class="material-symbols-outlined">close</span>
                                </button>
                            </div>
                            <div class="mt-2 text-gray-800" id="toastMessage">
                                Action completed successfully!
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const ctx = document.getElementById('lineChart').getContext('2d');

        const salesData = {
            daily: {
                total: 2450,
                percentage: '+5.2% vs yesterday',
                chartData: [12, 19, 3, 5, 2, 3, 7], // Daily data (7 days)
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
            },
            weekly: {
                total: 18320,
                percentage: '+8.1% vs last week',
                chartData: [20, 15, 13, 10, 18, 25, 30], // Weekly data (7 weeks)
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5', 'Week 6', 'Week 7']
            },
            monthly: {
                total: 64180,
                percentage: '+12.3% vs last month',
                chartData: [30, 35, 50, 45, 40, 60, 70, 80, 90, 100, 110, 120], // Monthly data (12 months)
                labels: [
                    'January', 'February', 'March', 'April', 'May', 'June',
                    'July', 'August', 'September', 'October', 'November', 'December'
                ]
            }
        };

        let currentPeriod = 'monthly'; // Default to monthly

        const lineChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: salesData[currentPeriod].labels,
                datasets: [{
                    label: 'Sales',
                    data: salesData[currentPeriod].chartData,
                    borderColor: 'rgba(75, 192, 192, 1)',
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderWidth: 1,
                    fill: true,
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        // Function to update the chart and card data
        function updateData(period) {
            currentPeriod = period;

            // Update sales cards data
            document.getElementById('dailySales').textContent = `₹${salesData[period].total}`;
            document.getElementById('dailyPercentage').textContent = salesData[period].percentage;

            // Update chart data
            lineChart.data.labels = salesData[period].labels;
            lineChart.data.datasets[0].data = salesData[period].chartData;
            lineChart.update();
        }

        // Event listeners for Time Period selection
        document.querySelectorAll('[data-period]').forEach(item => {
            item.addEventListener('click', (e) => {
                const period = e.target.getAttribute('data-period');
                updateData(period);
            });
        });

        const orders = [
            { orderId: "#ORD-2024-001", productName: "Sterling Silver Necklace", orderDate: "15 Jan, 2024", amountEarned: 4999.00, platformFee: 499.00, netEarnings: 4500.00 },
            { orderId: "#ORD-2024-002", productName: "14K Gold Pendant", orderDate: "16 Jan, 2024", amountEarned: 7999.00, platformFee: 799.00, netEarnings: 7200.00 },
            { orderId: "#ORD-2024-003", productName: "Diamond Stud Earrings", orderDate: "17 Jan, 2024", amountEarned: 14999.00, platformFee: 1499.00, netEarnings: 13500.00 },
            { orderId: "#ORD-2024-004", productName: "Silver Toe Ring", orderDate: "18 Jan, 2024", amountEarned: 1499.00, platformFee: 149.00, netEarnings: 1350.00 },
            { orderId: "#ORD-2024-005", productName: "Kundan Necklace Set", orderDate: "19 Jan, 2024", amountEarned: 8999.00, platformFee: 899.00, netEarnings: 8100.00 },
            { orderId: "#ORD-2024-006", productName: "Platinum Wedding Band", orderDate: "20 Jan, 2024", amountEarned: 24999.00, platformFee: 2499.00, netEarnings: 22500.00 }
        ];


        const payments = [
            { payoutId: "#PAY-2024-001", amount: 12500.00, date: "15 Jan, 2024", method: "Bank Transfer", status: "Completed" },
            { payoutId: "#PAY-2024-002", amount: 23400.00, date: "16 Jan, 2024", method: "UPI", status: "Pending" },
            { payoutId: "#PAY-2024-003", amount: 31200.00, date: "17 Jan, 2024", method: "Bank Transfer", status: "Completed" },
            { payoutId: "#PAY-2024-004", amount: 9800.00, date: "18 Jan, 2024", method: "UPI", status: "Pending" },
            { payoutId: "#PAY-2024-005", amount: 5000.00, date: "19 Jan, 2024", method: "Bank Transfer", status: "Completed" },
            { payoutId: "#PAY-2024-006", amount: 16000.00, date: "20 Jan, 2024", method: "UPI", status: "Pending" }
        ];


        // Pagination variables
        let currentPageOrders = 1;
        let currentPagePayments = 1;
        const rowsPerPageOrders = 3;
        const rowsPerPagePayments = 4;
        let filteredOrders = [...orders];
        let filteredPayments = [...payments];

        // Render the Orders Table
        function renderOrdersTable() {
            const tableBody = document.getElementById('revenueTableBody');
            tableBody.innerHTML = '';

            const startIdx = (currentPageOrders - 1) * rowsPerPageOrders;
            const endIdx = startIdx + rowsPerPageOrders;
            const currentRows = filteredOrders.slice(startIdx, endIdx);

            currentRows.forEach(order => {
                const row = document.createElement('tr');
                row.classList.add('hover:bg-gray-50', 'transition-colors', 'duration-200');
                row.innerHTML = `
            <td class="px-6 py-4 text-sm">${order.orderId}</td>
            <td class="px-6 py-4 text-sm">${order.productName}</td>
            <td class="px-6 py-4 text-sm">${order.orderDate}</td>
            <td class="px-6 py-4 text-sm">₹${order.amountEarned.toFixed(2)}</td>
            <td class="px-6 py-4 text-sm">₹${order.platformFee.toFixed(2)}</td>
            <td class="px-6 py-4 text-sm">₹${order.netEarnings.toFixed(2)}</td>
        `;
                tableBody.appendChild(row);
            });

            // Update Pagination Text
            const paginationText = document.getElementById('revenuePaginationText');
            paginationText.textContent = `Showing ${startIdx + 1} to ${Math.min(endIdx, filteredOrders.length)} of ${filteredOrders.length} entries`;

            // Update Pagination Buttons
            const previousButton = document.getElementById('revenuePreviousButton');
            const nextButton = document.getElementById('revenueNextButton');
            previousButton.disabled = currentPageOrders === 1;
            nextButton.disabled = currentPageOrders * rowsPerPageOrders >= filteredOrders.length;
        }

        // Render the Payments Table
        function renderPaymentsTable() {
            const tableBody = document.getElementById('paymentTableBody');
            tableBody.innerHTML = '';

            const startIdx = (currentPagePayments - 1) * rowsPerPagePayments;
            const endIdx = startIdx + rowsPerPagePayments;
            const currentRows = filteredPayments.slice(startIdx, endIdx);

            currentRows.forEach(payment => {
                const row = document.createElement('tr');
                row.classList.add('hover:bg-gray-50', 'transition-colors', 'duration-200');
                row.innerHTML = `
            <td class="px-6 py-4 text-sm">${payment.payoutId}</td>
            <td class="px-6 py-4 text-sm">₹${payment.amount.toFixed(2)}</td>
            <td class="px-6 py-4 text-sm">${payment.date}</td>
            <td class="px-6 py-4 text-sm">${payment.method}</td>
            <td class="px-6 py-4">
    <span class="px-2 py-1 text-xs rounded-full ${payment.status === 'Completed' ? 'bg-green-100 text-green-600' : 'bg-red-100 text-red-600'}">${payment.status}</span>
</td>
        `;
                tableBody.appendChild(row);
            });

            // Update Pagination Text
            const paginationText = document.getElementById('paymentPaginationText');
            paginationText.textContent = `Showing ${startIdx + 1} to ${Math.min(endIdx, filteredPayments.length)} of ${filteredPayments.length} entries`;

            // Update Pagination Buttons
            const previousButton = document.getElementById('paymentPreviousButton');
            const nextButton = document.getElementById('paymentNextButton');
            previousButton.disabled = currentPagePayments === 1;
            nextButton.disabled = currentPagePayments * rowsPerPagePayments >= filteredPayments.length;
        }

        // Handle Pagination
        document.getElementById('revenuePreviousButton').addEventListener('click', () => {
            if (currentPageOrders > 1) {
                currentPageOrders--;
                renderOrdersTable();
            }
        });

        document.getElementById('revenueNextButton').addEventListener('click', () => {
            if (currentPageOrders * rowsPerPageOrders < filteredOrders.length) {
                currentPageOrders++;
                renderOrdersTable();
            }
        });

        document.getElementById('paymentPreviousButton').addEventListener('click', () => {
            if (currentPagePayments > 1) {
                currentPagePayments--;
                renderPaymentsTable();
            }
        });

        document.getElementById('paymentNextButton').addEventListener('click', () => {
            if (currentPagePayments * rowsPerPagePayments < filteredPayments.length) {
                currentPagePayments++;
                renderPaymentsTable();
            }
        });

        // Search Filter
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const searchQuery = e.target.value.toLowerCase();

            filteredOrders = orders.filter(order =>
                order.productName.toLowerCase().includes(searchQuery) ||
                order.orderId.toLowerCase().includes(searchQuery)
            );
            filteredPayments = payments.filter(payment =>
                payment.payoutId.toLowerCase().includes(searchQuery) ||
                payment.method.toLowerCase().includes(searchQuery)
            );

            currentPageOrders = 1;  // Reset to first page after search
            currentPagePayments = 1;
            renderOrdersTable();
            renderPaymentsTable();
        });

        // Filter by Payment Status
        document.getElementById('filterCompleted').addEventListener('click', () => {
            filteredPayments = payments.filter(payment => payment.status === 'Completed');
            currentPagePayments = 1; // Reset to first page
            renderPaymentsTable();
        });

        document.getElementById('filterPending').addEventListener('click', () => {
            filteredPayments = payments.filter(payment => payment.status === 'Pending');
            currentPagePayments = 1; // Reset to first page
            renderPaymentsTable();
        });

        // Initial Render
        renderOrdersTable();
        renderPaymentsTable();

        const refundsData = [
            { orderId: '#12345', customerName: 'John Doe', vendor: 'Vendor A', amount: '₹1,500', reason: 'Product Defect', status: 'Pending' },
            { orderId: '#12346', customerName: 'Jane Smith', vendor: 'Vendor B', amount: '₹2,000', reason: 'Wrong Item Delivered', status: 'Approved' },
            { orderId: '#12347', customerName: 'Emily White', vendor: 'Vendor C', amount: '₹3,000', reason: 'Change of Mind', status: 'Pending' },
            { orderId: '#12348', customerName: 'Michael Brown', vendor: 'Vendor D', amount: '₹1,200', reason: 'Late Delivery', status: 'Approved' }
        ];

        // Function to render the table
        function renderTable() {
            const tableBody = document.getElementById('refundsTableBody');
            tableBody.innerHTML = ''; // Clear existing rows

            refundsData.forEach(refund => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-100';
                row.innerHTML = `
                    <td class="px-6 py-3 text-sm text-gray-700">${refund.orderId}</td>
                    <td class="px-6 py-3 text-sm text-gray-700">${refund.customerName}</td>
                    <td class="px-6 py-3 text-sm text-gray-700">${refund.vendor}</td>
                    <td class="px-6 py-3 text-sm text-gray-700">${refund.amount}</td>
                    <td class="px-6 py-3 text-sm text-gray-700">${refund.reason}</td>
                    <td class="px-6 py-3 text-sm text-gray-700" id="status-${refund.orderId}">${refund.status}</td>
                    <td class="px-6 py
                    < td class="px-6 py-3 text-sm text-gray-700" >
                        <button class="approve-btn px-4 py-2 text-white bg-blue-500 rounded-lg mr-2 hover:bg-blue-600" data-order-id="${refund.orderId}" ${refund.status === 'Approved' ? 'disabled' : ''}>Approve</button>
                        <button class="reject-btn px-4 py-2 text-white bg-red-500 rounded-lg hover:bg-red-600" data-order-id="${refund.orderId}" ${refund.status === 'Approved' ? 'disabled' : ''}>Reject</button>
                    </td >
                `;
                tableBody.appendChild(row);
            });

            // Add event listeners for the newly created buttons
            addEventListeners();
        }

        // Function to handle approve and reject actions
        function handleAction(orderId, action) {
            const refund = refundsData.find(r => r.orderId === orderId);
            if (refund) {
                if (action === 'approve') {
                    refund.status = 'Approved';
                } else if (action === 'reject') {
                    refund.status = 'Rejected';
                }
                renderTable(); // Re-render the table to reflect changes
            }
        }

        // Add event listeners to buttons
        function addEventListeners() {
            document.querySelectorAll('.approve-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const orderId = button.getAttribute('data-order-id');
                    handleAction(orderId, 'approve');
                });
            });

            document.querySelectorAll('.reject-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const orderId = button.getAttribute('data-order-id');
                    handleAction(orderId, 'reject');
                });
            });
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');

            // Set the message
            toastMessage.textContent = message;

            // Show the toast
            toast.classList.remove('hidden', 'opacity-0');
            toast.classList.add('opacity-100');

            // Hide the toast after a few seconds
            setTimeout(() => {
                toast.classList.add('opacity-0');
                toast.classList.remove('opacity-100');
                setTimeout(() => {
                    toast.classList.add('hidden');
                }, 300); // Wait for the fade-out transition to complete
            }, 3000); // Show for 3 seconds
        }

        function hideToast() {
            const toast = document.getElementById('toast');
            toast.classList.add('opacity-0');
            toast.classList.remove('opacity-100');
            setTimeout(() => {
                toast.classList.add('hidden');
            }, 300); // Wait for the fade-out transition to complete
        }

        // Function to handle approve and reject actions
        function handleAction(orderId, action) {
            const refund = refundsData.find(r => r.orderId === orderId);
            if (refund) {
                if (action === 'approve') {
                    refund.status = 'Approved';
                    showToast(`Refund for ${orderId} has been approved.`);
                } else if (action === 'reject') {
                    refund.status = 'Rejected';
                    showToast(`Refund for ${orderId} has been rejected.`);
                }
                renderTable(); // Re-render the table to reflect changes
            }
        }

        // Initial render
        renderTable();

    </script>

</body>

</html>